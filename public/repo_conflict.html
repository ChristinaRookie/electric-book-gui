{{template "_header.html" .}}
{{template "_nav_main.html" .}}

<main id="repo-conflict">
	<div id="topbar">
		<div>Your repo is in conflict.
		<span class="merging-description">{{.Merging.MergingDescription}}</span>
		</div>
		<div class="toolbar-menu">
		    <button class="btn" id="action-abort">Abort this merge</a>
		    <button class="btn" id="action-commit">Resolve this merge</button>
		</div>
	</div>
	<div id="work">
		<div id="files" class="showing">
			<div id="files-show-tag" class="showing">
				<object class="hidden" type="image/svg+xml" data="/img/file-folder-open.svg">
					Show
				</object>
				<object class="showing" type="image/svg+xml" data="/img/file-folder-closed.svg">Close</object>
			</div>
			<div>These files require attention</div>
			<div>
				<div id="staged-files-list">
				</div>
			</div>
		</div>
		<div id="editor">
			<div id="editor-topbar">
				<div class="toolbar-menu">
					<a class="btn" id="merge-editor-control-save">Save these changes</a>
					<!-- We don't actually require a 'resolve', since we'll commit -am -->
					<a class="btn" id="merge-editor-control-resolve">Mark resolved</a>
					<a class="btn" id="merge-editor-control-delete" disabled style="display: none;">Delete this file</a>

					<div class="drop-down">
						<button class="btn">Copy</button>
						<div class="hover">
							<a class="btn" id="merge-editor-control-copy-working">Ours to Theirs</a>
							<a class="btn" id="merge-editor-control-copy-their">Theirs to Ours</a>
						</div>
					</div>

					<div class="drop-down">
						<div class="btn">Revert</div>
						<div class="hover">
							<a class="btn" id="merge-editor-control-revert-our">Ours to Our Original</a>
							<!-- <a class="btn" id="merge-editor-control-revert-git" disabled>
							Ours to git merge result</a>-->
							<a class="btn" id="merge-editor-control-revert-their">Theirs to Their Original</a>
						</div>
					</div>
				</div>
				<div id="merge-instructions">
				</div>
			</div>
			<div id="editor-label-panes">
				<div>Ours</div>
				<div>Theirs</div>
			</div>
			<div id="editor-work">
			</div>
		</div>
	</div>
</main>
<script type="text/hidden" id="ebw-context" data-repo-owner="{{.RepoOwner}}" data-repo-name="{{.RepoName}}" data-page="RepoConflictPage">
</script>
<script type="text/hidden" id="staged-files-data">
{{- .StagedFiles | json | raw -}}
</script>
<script type="text/hidden" id="merging-info">
{{- .Merging | json | raw -}}
</script>

{{template "_footer.html" .}}