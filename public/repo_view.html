{{template "_header.html" .}}
{{template "_nav_main.html" .}}

<main id="new-editor">
	<nav id="new-editor-files-nav">
		<div id="files-show-tag" class="showing"><img class="hidden" src="/img/file-folder-open.svg" alt="Show files"/><img class="showing" src="/img/file-folder-closed.svg" alt="Close files" /></div>
		<div class="file-actions action-group toolbar-menu" id="repo-file-actions">
			<a data-set="commit" id="repo-commit" class="btn" href="commit">Commit</a>
			<div class="drop-down">
				<button class="btn">Output</button>
				<div class="hover">
				   <button href="#" id="repo-jekyll" class="btn">Web version</button>
				   <button id="repo-print-screen" class="btn">Screen PDF</button>
				   <button id="repo-print-printer" class="btn">Print PDF</button>
				   <button disabled class="btn">Epub</button>
				</div>
			</div>
			<button id="repo-new-file" class="btn">New file</button>
			<button id="repo-save-all" class="btn">Save All</button>

		</div>
		<div class="file-container" id="all-files-editor-container">
			<div id="all-files-editor" data-instance="AllFilesList"> </div>
		</div>
	</nav>

	<section class="section-editor" id="file-editors">
		<header class="header-split">
			<div class="file-title">
				Editing <span ebw-bind="current-filename"></span>
			</div>
			<div class="action-group primary" id="editor-actions">
				<button class="btn" id="editor-save-button">Save</button>
				<button id="editor-undo-button" class="btn">Undo</button>
				<button id="editor-rename-button" class="btn">Rename</button>
				<button id="editor-delete-button" title="Delete" class="btn">Delete</button>
			</div>
		</header>
		<div class="editor" id="editor" ebw-repo="{{.RepoName}}" data-instance="RepoFileEditor">
		</div>
	</section>
<script type="text/hidden" id="ebw-context" data-repo-owner="{{.RepoOwner}}" data-repo-name="{{.RepoName}}"  data-username="{{.Username}}" data-page="RepoEditorPage">
</script>	
<script type="text/javascript">
window.repoEditorData = {
	"files": {{.RepoFiles}},
	"ignoreFilter": {{.ProseIgnoreFilter}},
	"filesAndHashes": {{.FilesAndHashes}}
};
</script>
</main>

{{template "_footer.html" .}}
